<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jjimMapper">
	<resultMap id="jjimResultSet" type="jjim">
	    <id column="MTO_NO" property="mtoNo"/>
	    <result column="MTI_NO" property="mtiNo"/>
	</resultMap>
	<!-- 포트폴리오 찜 가져오기 -->
	<select id="getJjim" resultMap="jjimResultSet">
		SELECT *
		FROM JJIM J
		WHERE MTO_NO = #{mtoNo} AND MTI_NO = #{mtiNo}
	</select>
	<!-- 찜 하기 -->
	<insert id="insertJjim">
		INSERT INTO JJIM
		VALUES(#{mtoNo}, #{mtiNo})
	</insert>
	<!-- 찜 취소 -->
	<delete id="deleteJjim">
		DELETE FROM JJIM WHERE MTO_NO = #{mtoNo} AND MTI_NO = #{mtiNo}
	</delete>
	<!-- 맨티마이페이지 찜 리스트 가져오기 -->
	<select id="getJjimList" parameterType="int" resultType="jjim">
		SELECT PTF_NO, INTRODUCE, USER_NAME
		FROM JJIM J
		LEFT JOIN MEMBER M ON USER_NO = MTO_NO
		LEFT JOIN PORTFOLIO P ON J.MTO_NO = P.MTO_NO
		WHERE J.MTI_NO = #{mtiNo}
	</select>
</mapper>